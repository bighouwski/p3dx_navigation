<launch>
  <!-- master auto="start"/-->
  <arg name="urdf" default="$(find amr_robots_description)/urdf/pioneer3dx.urdf" />
  <arg name="joint_state_gui" default="False" />
  <include file="$(find amr_robots_launchfiles)/rosaria.launch">
    <arg name="urdf" value="$(arg urdf)"/>
    <!--arg name="joint_state_gui" value="$(arg joint_state_gui)" /-->
  </include>
	<rosparam file="$(find p3dx_navigation)/cfg/odom_calibration.yaml" command="load" />

  <node pkg="teleop_twist_keyboard" type="teleop_twist_keyboard.py" name="teleop_twist_keyboard" output="screen">
    <remap from="cmd_vel" to="rosaria/cmd_vel"/>
  </node>
  <!-->
  <-->
  <node  name="relay_cmd_vel" pkg="topic_tools" type="relay" respawn="false" output="screen" args="/virtual_joystick/cmd_vel /rosaria/cmd_vel" />

  <node pkg="rviz" type="rviz" name="rviz" args="-d $(find p3dx_navigation)/launch/p3dx.odometry.calibration.rviz" />

  <node pkg="rqt_topic" type="rqt_topic" name="rqt_topic" />
  <node pkg="rqt_reconfigure" type="rqt_reconfigure" name="rqt_reconfigure" />

</launch>